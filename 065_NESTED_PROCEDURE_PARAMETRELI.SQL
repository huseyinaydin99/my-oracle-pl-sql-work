DECLARE
  CURSOR C_EMP
  IS
  SELECT EMPLOYEE_ID
  FROM EMPLOYEES
  WHERE DEPARTMENT_ID = 90;

  R_EMP C_EMP%ROWTYPE;

  WNAME EMPLOYEES.LAST_NAME%TYPE;

  PROCEDURE SHOW_NAME(P_ID IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  IS
    -- WNAME EMPLOYEES.LAST_NAME%TYPE;
  BEGIN
    SELECT LAST_NAME
    INTO WNAME
    FROM EMPLOYEES
    WHERE EMPLOYEE_ID = P_ID;
    PRINT('ESKI ISMI: ' || WNAME);
  END;

  PROCEDURE CHANGE_LAST_NAME(P_ID IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  IS
    -- WNAME EMPLOYEES.LAST_NAME%TYPE;
  BEGIN
    UPDATE EMPLOYEES
    SET LAST_NAME = UPPER(LAST_NAME)
    WHERE EMPLOYEE_ID = P_ID
    RETURNING LAST_NAME
    INTO WNAME;

    PRINT('GUNCELLENMIS ISMI: ' || WNAME);
  END CHANGE_LAST_NAME;
BEGIN
  OPEN C_EMP;

  LOOP
    FETCH C_EMP
    INTO R_EMP;
    EXIT WHEN C_EMP%NOTFOUND;
    SHOW_NAME(R_EMP.EMPLOYEE_ID);
    CHANGE_LAST_NAME(R_EMP.EMPLOYEE_ID);
  END LOOP;
  CLOSE C_EMP;
  -- SHOW_NAME(101);
  -- CHANGE_LAST_NAME(101);
END;
