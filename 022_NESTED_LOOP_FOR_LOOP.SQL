DECLARE
  YONETICI EMPLOYEES.LAST_NAME%TYPE;
BEGIN
  FOR D IN
  (SELECT DEPARTMENT_ID, DEPARTMENT_NAME, MANAGER_ID
  FROM DEPARTMENTS
  ORDER BY DEPARTMENT_ID) LOOP
      BEGIN
        SELECT LAST_NAME
        INTO YONETICI
        FROM EMPLOYEES
        WHERE EMPLOYEE_ID = D.MANAGER_ID;
        EXCEPTION WHEN NO_DATA_FOUND THEN
          YONETICI = 'BULUNAMADI';
      END;
    DBMS_OUTPUT.PUT_LINE(' ');
    DBMS_OUTPUT.PUT_LINE('BOLUM NO: ' || D.DEPARTMENT_ID || ' BOLUM ADI: ' || D.DEPARTMENT_NAME || ' YONETICI: ' || YONETICI);
    FOR E IN
    (SELECT EMPLOYEE_ID, FIRST_NAME, LAST_NAME
    FROM EMPLOYEES
    WHERE DEPARTMENT_ID = D.DEPARTMENT_ID) LOOP
      DBMS_OUTPUT.PUT_LINE('CALISAN NO: ' || E.EMPLOYEE_ID || ' CALINSAN ADI: ' || E.FIRST_NAME || ' CALISAN SOYADI: ' || E.LAST_NAME);
    END LOOP;
  END LOOP;
END;
/
