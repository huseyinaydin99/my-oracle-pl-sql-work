DECLARE
  CURSOR C_DEPT
  IS
  SELECT DEPARTMENT_ID
  FROM DEPARTMENTS;

  R_DEPT C_DEPT%ROWTYPE;

  FUNCTION DEPT_NAME(
    P_DEPT DEPARTMENTS.DEPARTMENT_ID%TYPE
  )
  RETURN DEPARTMENTS.DEPARTMENT_NAME%TYPE
  IS
    WDEPT_NAME DEPARTMENTS.DEPARTMENT_NAME%TYPE;
  BEGIN
    SELECT DEPARTMENT_NAME
    INTO WDEPT_NAME
    FROM DEPARTMENTS
    WHERE DEPARTMENT_ID = P_DEPT;

    RETURN WDEPT_NAME;

    EXCEPTION WHEN NO_DATA_FOUND THEN
      RETURN 'BOLUM NUMARASI BULUNAMADI';
  END;

  PROCEDURE EMP_OKU(
    P_DEPT DEPARTMENTS.DEPARTMENT_ID%TYPE
  )
  IS
    WDEPT_ADI DEPARTMENTS.DEPARTMENT_NAME%TYPE;
  BEGIN
    DBMS_OUTPUT.NEW_LINE;
    PRINT('#-------ŞİİRSEL-------#');
    DBMS_OUTPUT.NEW_LINE;
    WDEPT_ADI := DEPT_NAME(P_DEPT);
    PRINT(P_DEPT || ' - ' || WDEPT_ADI);
    FOR I IN (SELECT EMPLOYEE_ID, LAST_NAME
      FROM EMPLOYEES
      WHERE DEPARTMENT_ID = P_DEPT)
    LOOP
      PRINT(I.EMPLOYEE_ID || ' ' || I.LAST_NAME);
    END LOOP;
  END;
BEGIN
  --<< TEK DEGER
  EMP_OKU(60);

  --<<COKLU DEGER
  OPEN C_DEPT;
  LOOP
    FETCH C_DEPT
    INTO R_DEPT;
    EXIT WHEN C_DEPT%NOTFOUND;
    EMP_OKU(R_DEPT.DEPARTMENT_ID);
  END LOOP;
  CLOSE C_DEPT;
END;
