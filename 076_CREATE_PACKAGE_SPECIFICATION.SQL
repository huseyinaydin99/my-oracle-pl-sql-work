CREATE OR REPLACE
PACKAGE MY_TYPES
AS
  TYPE EMP_DATA
  IS RECORD(
    EMP_ID EMPLOYEES.EMPLOYEE_ID%TYPE,
    FIRST_NAME EMPLOYEES.FIRST_NAME%TYPE
  );

  PI CONSTANT NUMBER(3, 2) := 3.14;

  TYPE CURSOR_TYPE
  IS REF CURSOR;

  MY_EXCEPTION EXCEPTION;

  PROCEDURE CALISANLAR(
    P_DEPT_ID EMPLOYEES.DEPARTMENT_ID%TYPE
  );
END MY_TYPES;

CREATE OR REPLACE
PACKAGE BODY MY_TYPES
AS
  PROCEDURE CALISANLAR(
    P_DEPT_ID EMPLOYEES.DEPARTMENT_ID%TYPE
  )
  IS
    C_CURSOR MY_TYPES.CURSOR_TYPE;
    WEMP_DATA MY_TYPES.EMP_DATA;
  BEGIN
  OPEN C_CURSOR FOR SELECT EMPLOYEE_ID, FIRST_NAME FROM EMPLOYEES WHERE DEPARTMENT_ID = P_DEPT_ID;
  LOOP
    FETCH C_CURSOR
    INTO WEMP_DATA;

    EXIT WHEN C_CURSOR%NOTFOUND;

    PRINT(WEMP_DATA.EMP_ID || ' ' || WEMP_DATA.FIRST_NAME);
  END LOOP;
  END;
END;

EXEC MY_TYPES.CALISANLAR(60);

DECLARE
  WEMP_DATA MY_TYPES.EMP_DATA;
  C_CURSOR  MY_TYPES.CURSOR_TYPE;
  R         NUMBER;
BEGIN
  OPEN C_CURSOR
  FOR
  SELECT EMPLOYEE_ID, FIRST_NAME
  FROM EMPLOYEES;
  LOOP
    FETCH C_CURSOR
    INTO WEMP_DATA;

    EXIT WHEN C_CURSOR%NOTFOUND;

    PRINT(WEMP_DATA.EMP_ID || ' ' || WEMP_DATA.FIRST_NAME);
  END LOOP;
  CLOSE C_CURSOR;
  PRINT(R || ' YARICAPLI DAIRENIN ALANI ' || MY_TYPES.PI * POWER(R, 2));
END;
