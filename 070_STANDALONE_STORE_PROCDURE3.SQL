DELETE
FROM RESIMLER;

SELECT *
FROM ALL_DIRECTORIES; -- DOSYA SISTEMINE CIKABILEN KLASORLERI LISTELER.

CREATE OR REPLACE
PROCEDURE FILE_TO_BLOB(
  P_DIR       IN VARCHAR2,
  P_DOSYA_ISMI    VARCHAR2
)
AS
  WFOTO BFILE;
  WTEMPDATA BLOB;
  WKAYNAKOFFSET PLS_INTEGER := 1;
  WHEDEHOFFSET PLS_INTEGER := 1;
BEGIN
  DBMS_LOB.CREATETEMPORARY(WTEMPDATA, TRUE); --<< TEMPDATA DEĞİŞKENİNE GEÇİCİ ALAN AÇAR
  WFOTO := BFILENAME(P_DIR, P_DOSYA_ISMI);
  DBMS_LOB.FILEOPEN(WFOTO, DBMS_LOB.FILE_READONLY);
  DBMS_LOB.LOADFROMFILE(WTEMPDATA, WFOTO, DBMS_LOB.LOBMAXSIZE, WHEDEHOFFSET, WKAYNAKOFFSET);
  INSERT INTO RESIMLER(
    DOSYA_ADI,
    RESIM
  )
  VALUES(
    P_DOSYA_ISMI,
    WTEMPDATA
  );
  COMMIT;
  DBMS_LOB.FILECLOSE(WFOTO);
END;
