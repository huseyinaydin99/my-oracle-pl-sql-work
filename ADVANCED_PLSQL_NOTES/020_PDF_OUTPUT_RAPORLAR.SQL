CREATE OR REPLACE
PACKAGE PLSQL_PDF
AS
PROCEDURE PDF_URET(
    P_PDFNAME VARCHAR2
);

PROCEDURE EMP_PDF(
    P_PDFNAME VARCHAR2
);
END PLSQL_PDF;



CREATE OR REPLACE
DIRECTORY PDF_DIR
AS 'C:\Users\Huseyin_Aydin\Documents\PDFS';


CREATE OR REPLACE
DIRECTORY FONT_DIR
AS 'C:\Users\Huseyin_Aydin\Documents\FONTS';

DROP PACKAGE PLSQL_PDF;
DROP PACKAGE BODY PLSQL_PDF;


CREATE OR REPLACE
PACKAGE BODY PLSQL_PDF
IS
    PROCEDURE PDF_URET(
        P_PDFNAME VARCHAR2
    )
    IS
        FONT_ARIEL PLS_INTEGER;
        FONT_ARIELI PLS_INTEGER;
        FONT_ARIELB PLS_INTEGER;
        FONT_ARIELBI PLS_INTEGER;
    BEGIN
        AS_PDF3.INIT; -- VEYA INIT();
        AS_PDF3.SET_PAGE_FORMAT('A4');
        AS_PDF3.SET_PAGE_ORIENTATION('PORTRAIT');
        FONT_ARIEL := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIAL.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELI := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALI.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELB := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALBD.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELBI := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALBI.TTF', 'CID', P_COMPRESS => TRUE);

        -- AS_PDF3.PUT_IMAGE('PDF_DIR', 'windows.png', 600, 780, 100, 40, 'CENTER');
        --AS_PDF3.SAVE_PDF(P_FILENAME => P_PDFNAME || '.PDF'); 
        /*
        AS_PDF3.SET_FONT(FONT_ARIEL, 15);
        AS_PDF3.WRITE('Java Developer, Spring, Spring Boot, JPA/Hibernate, Oracle, PLSQL...', P_Y => 800, P_ALIGNMENT => 'CENTER');

        AS_PDF3.SET_FONT('HELVETICA', 15);
        AS_PDF3.WRITE('TÜRKÇE KARAKTER TESTİ ÇÖŞİĞ', -1, 730); -- -1 X 730 Y 
        
        AS_PDF3.SET_FONT(FONT_ARIEL, 12);
        AS_PDF3.WRITE('TÜRKÇE KARAKTER TESTİ', -1, 690); -- -1 X 730 Y 
        
        AS_PDF3.SET_FONT(FONT_ARIELI, 8);
        AS_PDF3.WRITE('TÜRKÇE KARAKTER TESTİ', -1, 610); -- -1 X 730 Y 
        
        AS_PDF3.SET_FONT(FONT_ARIELB, 10);
        AS_PDF3.WRITE('TÜRKÇE KARAKTER TESTİ', -1, 550); -- -1 X 730 Y 
        
        AS_PDF3.SET_FONT(FONT_ARIELBI, 10);
        AS_PDF3.WRITE('TÜRKÇE KARAKTER TESTİ', -1, 390); -- -1 X 730 Y 
        
        AS_PDF3.SET_FONT(FONT_ARIEL, 15);
        AS_PDF3.WRITE('HÜSEYİN AYDİN', P_Y => 765, P_ALIGNMENT => 'CENTER');
        */

        AS_PDF3.SET_FONT(FONT_ARIELBI, 10);
        AS_PDF3.WRITE('PDF RAPORU', P_Y => 765, P_ALIGNMENT => 'CENTER');
        AS_PDF3.HORIZONTAL_LINE(20, 430, 550, 1.5);
        AS_PDF3.WRITE('DERO NO: 999', P_X => 20, P_Y => 700, P_ALIGNMENT => 'LEFT');
        AS_PDF3.WRITE('SAYIN KURSIYER', P_X => 72, P_Y => 680, P_ALIGNMENT => 'RIGHT');
        AS_PDF3.WRITE('tELEFON: 99999999 ', P_X => 20, P_Y => 700, P_ALIGNMENT => 'LEFT');
        
        AS_PDF3.SET_FONT(FONT_ARIEL, 10);
        AS_PDF3.WRITE('ŞU ANDA PDF ÜRETECEK BİR PROCEDURE YAZMAKTAYIZ.', P_X => 30, P_Y => 630, P_ALIGNMENT => 'LEFT');
        AS_PDF3.WRITE('HÜSEYİN AYDIN', P_X => 30, P_Y => 630, P_ALIGNMENT => 'LEFT', P_LINE_HEIGHT => 20);

        AS_PDF3.WRITE(CHR(10));
        
        AS_PDF3.PUT_TXT(150, 200, 'Hüseyin AYDIN PL/SQL', 60);

        AS_PDF3.SAVE_PDF(P_FILENAME => P_PDFNAME || '.PDF'); 
    END PDF_URET;

    PROCEDURE PDF_URET(
        P_PDFNAME VARCHAR2
    )
    IS
        FONT_ARIEL PLS_INTEGER;
        FONT_ARIELI PLS_INTEGER;
        FONT_ARIELB PLS_INTEGER;
        FONT_ARIELBI PLS_INTEGER;
        WYAZ VARCHAR2(2000);
        I NUMBER := -1;
    BEGIN
        AS_PDF3.INIT; -- VEYA INIT();
        AS_PDF3.SET_PAGE_FORMAT('A4');
        AS_PDF3.SET_PAGE_ORIENTATION('PORTRAIT');
        FONT_ARIEL := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIAL.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELI := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALI.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELB := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALBD.TTF', 'CID', P_COMPRESS => TRUE);
        FONT_ARIELBI := AS_PDF3.LOAD_TTF_FONT('FONT_DIR', 'ARIALBI.TTF', 'CID', P_COMPRESS => TRUE);

        AS_PDF3.SET_FONT(FONT_ARIELB, 15);

        AS_PDF3.WRITE(RPAD('SICIL NO', 15, '') || RPAD('ISIM', 15, '') || RPAD('ISI', 20, ''), -1, -1, P_ALIGNMENT => 'CENTER');
        AS_PDF3.HORIZONTAL_LINE(20, 725, 550, 1.5);
        
        AS_PDF3.HORIZONTAL_LINE(20, 725, 550, 1.5);
        AS_PDF3.SET_FONT(FONT_ARIEL, 12);
        -- AS_PDF3.PUT_IMAGE('PDF_DIR', 'windows.png', 100, 780, 100, 40, 'LEFT');
        FOR OKU IN (
            SELECT EMPNO, ENAME, JOB 
            FROM EMP
        )
        LOOP
            I := I - 20;
            WYAZ := RPAD(OKU.EMPNO, 15, '') || ' ' || RPAD(OKU.ENAME, 15, '') || ' ' || RPAD(OKU.JOB, 15, '') || ' ';
            AS_PDF3.WRITE(WYAZ, -1, I, P_ALIGNMENT => 'CENTER');
            AS_PDF3.WRITE(CHR(10));
        END LOOP;
        AS_PDF3.HORIZONTAL_LINE(20, 300, 550, 1.5);
        --AS_PDF3.SAVE_PDF(P_FILENAME => P_PDFNAME || '.PDF'); 
        AS_PDF3.SET_FONT(FONT_ARIELI, 30);
        AS_PDF3.PUT_TXT(150, 200, 'Hüseyin AYDIN', 52);
    END PDF_URET;
END PLSQL_PDF;


--YENISI
CREATE OR REPLACE
PACKAGE BODY PLSQL_PDF
IS
    
END PLSQL_PDF;

EXECUTE PLSQL_PDF.PDF_URET('RESIM_TEST');
EXECUTE PLSQL_PDF.EMP_PDF('PDF_URET');