DECLARE
    CURSOR EMP_OKU
    IS
    SELECT EMPNO, ENAME, SAL, JOB
    FROM EMP
    ORDER BY EMPNO;

    REC_EMP EMP_OKU%ROWTYPE;

    PARAGRAF VARCHAR2(2000);
    TEXTDOSYA UTL_FILE.FILE_TYPE;
BEGIN
    TEXTDOSYA := UTL_FILE.FOPEN('TEXT_DIR', 'TXTTEMP.TXT', 'W');
    OPEN EMP_OKU;
    LOOP
        FETCH EMP_OKU
        INTO REC_EMP;

        EXIT WHEN EMP_OKU%NOTFOUND;

        PARAGRAF := REC_EMP.EMPNO || ' ' || REC_EMP.ENAME || ' ' || REC_EMP.SAL || ' ' || REC_EMP.JOB;
        UTL_FILE.PUT_LINE(TEXTDOSYA, PARAGRAF);
    END LOOP;
    CLOSE EMP_OKU;
    IF UTL_FILE.IS_OPEN(TEXTDOSYA) THEN
        UTL_FILE.FCLOSE(TEXTDOSYA);
    END IF;
END;